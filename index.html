<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>בחירת דירה</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="mobile.css">

    <style>
        body {
            font-family: Arial, sans-serif;
            background:#f5f5f5;
            margin:0;
            padding:20px;
        }
        header {
            background:#fff;
            padding:15px;
            margin-bottom:20px;
            border-radius:8px;
            box-shadow:0 0 5px rgba(0,0,0,0.15);
        }
        a { color:#0066cc; text-decoration:none; }
        a:hover { text-decoration:underline; }

        .card {
            background:#fff;
            padding:20px;
            border-radius:10px;
            box-shadow:0 0 5px rgba(0,0,0,0.2);
        }

        ul {
            list-style:none;
            padding:0;
        }
        li {
            margin-bottom:10px;
        }
    </style>
    <script src="config.js"></script>
</head>
<body>
<div class="container">

<header>
    <a href="index.html">דף הבית</a> |
    <a href="all_reports.html">כל התקלות</a>
</header>

<div class="card container">
    <h2>בחר דירה</h2>
    <p>בחר דירה כדי להיכנס לדשבורד ולדווח על תקלות או חוסרים.</p>

    <ul id="apt-list">
    <li>
        <div class="loader-box">
            טוען...
            <div class="loader"></div>
        </div>
    </li>
</ul>

</div>

<script>


async function loadApartments() {
    const ul = document.getElementById("apt-list");

    // מציג את כל הדירות מתוך APARTMENTS — בלי קשר לדיווחים
    ul.innerHTML = "";

    Object.entries(APARTMENTS).forEach(([id, name]) => {
        const li = document.createElement("li");
        const a = document.createElement("a");

        a.href = "dashboard.html?apartment_id=" + encodeURIComponent(id);
        a.textContent = name;

        li.appendChild(a);
        ul.appendChild(li);
    });
}


loadApartments();
</script>
</div>
</body>
</html>

